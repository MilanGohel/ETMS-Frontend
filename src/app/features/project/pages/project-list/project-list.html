<div class="h-full w-full p-6 overflow-y-auto">
    <header class="flex flex-row justify-between items-center">
        <h1 class="text-2xl font-bold text-white">Projects</h1>

        <button (click)="openCreateModal()"
            class="flex items-center gap-2 bg-secondary text-white px-4 py-2 rounded-md hover:opacity-90 transition-opacity text-sm font-semibold">
            <ng-icon name="lucidePlus" size="16"></ng-icon>
            <span> Add Project</span>
        </button>


    </header>
    <div class="flex flex-col space-y-4 mt-5">
        @for (project of projectList(); track project.id) {
        <div
            class="flex flex-row group bg-black p-4 rounded-xl border-2 border-transparent hover:border-sky-500 transition-all duration-200 relative ">
            <a [routerLink]="['/project', project.id]" class="block">
                <h3 class="text-xl font-semibold group-hover:text-sky-400 transition-colors">
                    {{ project.name }}
                </h3>
                <p class="text-sm text-gray-400 group-hover:text-gray-300 transition-colors">
                    {{ project.description }}
                </p>
                <p class="text-xs text-gray-500 mt-2">
                    {{ project.startDate }} â€” {{ project.endDate }}
                </p>
            </a>

            <div class="absolute top-4 right-4 flex space-x-3">
                <button (click)="openEditModal(project)" class="text-gray-400 hover:text-sky-400 transition-colors"
                    aria-label="Edit">
                    <ng-icon name="lucidePen" />
                </button>
                <p-confirmpopup />
                <p-button class="p-button-text text-gray-400 hover:text-red-400 transition-colors bg-transparent" ariaLabel="Delete"
                    (onClick)="onDelete(project)">
                    <ng-template pTemplate="icon">
                        <ng-icon name="lucideTrash2"></ng-icon>
                    </ng-template>
                </p-button>
                
                
            </div>
        </div>
        }
    </div>
</div>
<app-project-form-modal [visible]="showModal()" [project]="selectedProject" (onClose)="handleModalClose()"
    (onSubmit)="handleFormSubmit($event)" />